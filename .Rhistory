knitr::opts_chunk$set(echo = TRUE)
setwd("/Users/dforster/OneDrive - University of Miami/Forgiveness06/Analyses/R")
library(lavaan)
library(semTools)
library(doBy)
allData <- read.csv("Forster_et_al_Data.csv", header = T)
allData <- as.data.frame(allData)
sumBy <- function(x) {
mean(x, na.rm = T)
}
summaryBy(PartnerSwitch ~ apologyDummy*insult, data = allData, FUN = c(sumBy, length))
allData$rvex01_1r <- 6 - allData$rvex01_1
allData$rvex01_9r <- 6 - allData$rvex01_9
rv1 <- '
RV1 =~ rvex01_1r + rvex01_4 + rvex01_5 + rvex01_9r + rvex01_10 + rvex01_11
'
measurementInvariance(rv1, data = allData, missing = 'fiml', group = "insult")
measurementInvariance(rv1, data = allData, missing = 'fiml', group = "no_final")
rv1.fa <- cfa(rv1, data = allData, missing = 'fiml')
allData$RV1 <- predict(rv1.fa, allData)
allData$rvex02_1r <- 6 - allData$rvex02_1
allData$rvex02_9r <- 6 - allData$rvex02_9
rv2 <- '
RV2 =~ rvex02_1r + rvex02_4 + rvex02_5 + rvex02_9r + rvex02_10 + rvex02_11
'
measurementInvariance(rv2, data = allData, missing = 'fiml', group = 'insult')
measurementInvariance(rv2, data = allData, missing = 'fiml', group = 'apologyDummy')
measurementInvariance(rv2, data = allData, missing = 'fiml', group = "no_final")
rv2.fa <- cfa(rv2, data = allData, missing = 'fiml')
allData$RV2 <- predict(rv2.fa, allData)
er1 <- '
ER1 =~ rvex01_2 + rvex01_3 + rvex01_6 + rvex01_7 + rvex01_8 + rvex01_12
'
measurementInvariance(er1, data = allData, missing = 'fiml', group = "insult")
measurementInvariance(er1, data = allData, missing = 'fiml', group = "no_final")
er1.fa <- cfa(er1, data = allData, missing = 'fiml')
er2 <- '
ER2 =~ rvex02_2 + rvex02_3 + rvex02_6 + rvex02_7 + rvex02_8 + rvex02_12
'
measurementInvariance(er2, data = allData, missing = 'fiml', group = "insult")
measurementInvariance(er2, data = allData, missing = 'fiml', group = "apologyDummy")
measurementInvariance(er2, data = allData, missing = 'fiml', group = "no_final")
er2.fa <- cfa(er2, data = allData, missing = 'fiml')
# Longitudinal Invariance
longRV <- '
RV1 =~ rvex01_1r + rvex01_4 + rvex01_5 + rvex01_9r + rvex01_10 + rvex01_11
RV2 =~ rvex02_1r + rvex02_4 + rvex02_5 + rvex02_9r + rvex02_10 + rvex02_11
'
var1 <- c("rvex01_1r", "rvex01_4", "rvex01_5", "rvex01_9r", "rvex01_10", "rvex01_11")
var2 <- c("rvex02_1r", "rvex02_4", "rvex02_5", "rvex02_9r", "rvex02_10", "rvex02_11")
constrainedRV <- list(var1, var2)
longInvariance(longRV, auto = 1, constrainAuto = T, varList = constrainedRV, data = allData, missing = 'fiml')
longER <- '
ER1 =~ rvex01_2 + rvex01_3 + rvex01_6 + rvex01_7 + rvex01_8 + rvex01_12
ER2 =~ rvex02_2 + rvex02_3 + rvex02_6 + rvex02_7 + rvex02_8 + rvex02_12
'
var1 <- c("rvex01_2", "rvex01_3", "rvex01_6", "rvex01_7", "rvex01_8", "rvex01_12")
var2 <- c("rvex02_2", "rvex02_3", "rvex02_6", "rvex02_7", "rvex02_8", "rvex02_12")
constrainedER <- list(var1, var2)
longInvariance(longER, auto = 1, constrainAuto = F, varList = constrainedER, data = allData, missing = 'fiml')
rvex1 <- '
RV1 =~ rvex01_1r + rvex01_4 + rvex01_5 + rvex01_9r + rvex01_10 + rvex01_11
ER1 =~ rvex01_2 + rvex01_3 + rvex01_6 + rvex01_7 + rvex01_8 + rvex01_12
RV1 ~~ ER1
'
rvex1.fit <- sem(rvex1, data = allData, missing = 'fiml')
summary(rvex1.fit, fit.measures = T, standardized = T)
rvex2 <- '
RV2 =~ rvex02_1r + rvex02_4 + rvex02_5 + rvex02_9r + rvex02_10 + rvex02_11
ER2 =~ rvex02_2 + rvex02_3 + rvex02_6 + rvex02_7 + rvex02_8 + rvex02_12
RV2 ~~ ER2
'
rvex2.fit <- sem(rvex2, data = allData, missing = 'fiml')
summary(rvex2.fit, fit.measures = T, standardized = T)
allData$ER1 <- predict(er1.fa, allData)
allData$ER2 <- predict(er2.fa, allData)
setwd("/Users/dforster/OneDrive - University of Miami/deforster.github.io")
rmarkdown::render_site()
rmarkdown::render_site()
setwd("/Users/dforster/OneDrive - University of Miami/deforster.github.io")
rmarkdown::render_site()
setwd("/Users/dforster/OneDrive - University of Miami/deforster.github.io")
rmarkdown::render_site()
rmarkdown::render_site()
setwd("/Users/dforster/OneDrive - University of Miami/deforster.github.io")
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
install.packages("multicol")
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
rmarkdown::render_site()
